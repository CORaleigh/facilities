<form [formGroup]="myForm" novalidate (ngSubmit)="save(myForm.value, myForm.valid)">

    <mat-card>
        <mat-card-title>Select Facility</mat-card-title>
        <mat-card-content>
            <mat-form-field>
                <mat-select required>
                    <mat-option *ngFor="let location of locations" [value]="locations">{{location}}</mat-option>
                </mat-select>
            </mat-form-field>
        </mat-card-content>
    </mat-card>
    <mat-card>
        <mat-card-title>Select Problem</mat-card-title>
        <mat-card-content>
            <mat-form-field>
                <mat-select required>
                    <mat-option>-- None --</mat-option>
                    <mat-option value="option">Option</mat-option>
                </mat-select>
            </mat-form-field>
        </mat-card-content>
    </mat-card>
    <mat-card>
        <mat-card-title>Enter your contact information</mat-card-title>

        <mat-card-content>
            <mat-form-field>
                <input matInput type="text" formControlName="callerFirstName" placeholder="First Name">
            </mat-form-field>

            <mat-form-field>
                <input matInput type="text" formControlName="callerLastName" placeholder="Last Name">
            </mat-form-field>

            <mat-form-field>
                <input matInput type="text" formControlName="callerEmail" placeholder="Email">
            </mat-form-field>
            <mat-form-field>
                <input matInput type="text" formControlName="callerWorkPhone" placeholder="Phone #" type="number">
            </mat-form-field>
            <mat-form-field>
                <textarea matInput type="text" formControlName="comments" placeholder="Comments"></textarea>
            </mat-form-field>
        </mat-card-content>
        <p>
            <button mat-raised-button color="primary" type="submit" class="btn btn-success" [disabled]="!myForm.valid || submitted">Submit</button>
        </p>
        <p>
            <mat-progress-bar *ngIf="!isDone && submitted" class="app-progress" mode="indeterminate" aria-label="Indeterminate progress-bar example"></mat-progress-bar>
        </p>

        <div *ngIf="isDone && authResponse.requestId == ''">There was a problem generating your Service Request. Please try again. {{authResponse.message}}</div>
        <div *ngIf="isDone && authResponse.requestId != ''">Your Service Request ID is {{authResponse.requestId | json}}</div>
    </mat-card>
</form>

<app-map></app-map>